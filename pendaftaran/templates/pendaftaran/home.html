{% extends "pendaftaran/base.html" %}

{% block title %}Halaman Utama{% endblock %}
{% block page_title %}Dashboard{% endblock %}

{% block content %}
<!-- Welcome Section -->
<div class="row mb-4 fade-in" data-aos="fade-up">
    <div class="col-12">
        <div class="card">
            <div class="card-body">
                <div class="row align-items-center">
                    <div class="col-md-8">
                        <h2 class="mb-2">Selamat Datang, {{ biodata.nama_lengkap }}!</h2>
                        <p class="text-muted mb-0">Ini adalah dashboard Anda. Berikut adalah ringkasan data pendaftaran Anda.</p>
                    </div>
                    <div class="col-md-4 text-md-end mt-3 mt-md-0">
                        <span class="status-badge status-complete">Pendaftaran Lengkap</span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Status Cards -->
<div class="row mb-4">
    <div class="col-md-4 mb-3" data-aos="fade-up" data-aos-delay="100">
        <div class="card h-100">
            <div class="card-body d-flex align-items-center">
                <div class="flex-shrink-0">
                    <div class="rounded-circle bg-primary bg-opacity-10 p-3">
                        <i class="bi bi-person-check text-primary fs-4"></i>
                    </div>
                </div>
                <div class="flex-grow-1 ms-3">
                    <h6 class="mb-1">Data Biodata</h6>
                    <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <small class="text-muted">Lengkap</small>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3" data-aos="fade-up" data-aos-delay="200">
        <div class="card h-100">
            <div class="card-body d-flex align-items-center">
                <div class="flex-shrink-0">
                    <div class="rounded-circle bg-success bg-opacity-10 p-3">
                        <i class="bi bi-file-earmark-check text-success fs-4"></i>
                    </div>
                </div>
                <div class="flex-grow-1 ms-3">
                    <h6 class="mb-1">Berkas Dokumen</h6>
                    <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-success" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <small class="text-muted">Lengkap</small>
                </div>
            </div>
        </div>
    </div>
    <div class="col-md-4 mb-3" data-aos="fade-up" data-aos-delay="300">
        <div class="card h-100">
            <div class="card-body d-flex align-items-center">
                <div class="flex-shrink-0">
                    <div class="rounded-circle bg-info bg-opacity-10 p-3">
                        <i class="bi bi-calendar-check text-info fs-4"></i>
                    </div>
                </div>
                <div class="flex-grow-1 ms-3">
                    <h6 class="mb-1">Status Pendaftaran</h6>
                    <div class="progress" style="height: 6px;">
                        <div class="progress-bar bg-info" role="progressbar" style="width: 75%" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <small class="text-muted">Dalam Proses Verifikasi</small>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Biodata Section -->
<div class="row mb-4">
    <div class="col-12" data-aos="fade-up">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="bi bi-person-badge me-2"></i> Data Biodata</h5>
                <a href="#" class="btn btn-sm btn-outline-primary">
                    <i class="bi bi-pencil me-1"></i> Edit
                </a>
            </div>
            <div class="card-body">
                {% if biodata %}
                <div class="table-responsive">
                    <table class="table custom-table">
                        <tbody>
                            <tr>
                                <th width="200">Nama Lengkap</th>
                                <td>{{ biodata.nama_lengkap }}</td>
                            </tr>
                            <tr>
                                <th>NIK</th>
                                <td>{{ biodata.nik }}</td>
                            </tr>
                            <tr>
                                <th>Nomor KK</th>
                                <td>{{ biodata.nomor_kk }}</td>
                            </tr>
                            <tr>
                                <th>Jenis Kelamin</th>
                                <td>{{ biodata.jenis_kelamin }}</td>
                            </tr>
                            <tr>
                                <th>Tempat, Tanggal Lahir</th>
                                <td>{{ biodata.tempat_lahir }}, {{ biodata.tanggal_lahir|date:"d F Y" }}</td>
                            </tr>
                            <tr>
                                <th>Alamat</th>
                                <td>{{ biodata.jalan }}, Kec. {{ biodata.kecamatan }}, {{ biodata.kabupaten }}, {{ biodata.provinsi }}, {{ biodata.negara }} {{ biodata.kode_pos }}</td>
                            </tr>
                            <tr>
                                <th>Pendidikan Terakhir</th>
                                <td>{{ biodata.pendidikan_terakhir }}</td>
                            </tr>
                            <tr>
                                <th>Jurusan yang Dipilih</th>
                                <td>{{ biodata.jurusan }}</td>
                            </tr>
                            <tr>
                                <th>Ukuran Seragam</th>
                                <td>{{ biodata.ukuran_seragam }}</td>
                            </tr>
                            <tr>
                                <th>Status</th>
                                <td>
                                {% if biodata.status == 'menunggu' %}
                                    <div class="btn btn-warning">{{ biodata.get_status_display }}</div>
                                {% elif  biodata.status == 'lulus'%}
                                    <div class="btn btn-success">{{ biodata.get_status_display }}</div>
                                {% else %}
                                    <div class="btn btn-danger">{{ biodata.get_status_display  }}</div>
                                {% endif %}
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                {% else %}
                <div class="custom-alert custom-alert-warning">
                    <i class="bi bi-exclamation-triangle me-2"></i>
                    Data biodata Anda belum lengkap. Silakan lengkapi data Anda <a href="#" class="alert-link">di sini</a>.
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Berkas Section -->
<div class="row mb-4">
    <div class="col-12" data-aos="fade-up">
        <div class="card">
            <div class="card-header d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="bi bi-file-earmark-text me-2"></i> Berkas Dokumen</h5>
                <a href="#" class="btn btn-sm btn-outline-primary">
                    <i class="bi bi-cloud-upload me-1"></i> Unggah Berkas
                </a>
            </div>
            <div class="card-body">
                {% if berkas %}
                <div class="row">
                    <div class="col-md-4 mb-4" data-aos="zoom-in" data-aos-delay="100">
                        <div class="file-preview">
                            <img src="{{ berkas.foto_profile.url }}" alt="Foto Profil">
                            <div class="file-preview-overlay">
                                <div class="file-preview-title">Foto Profil</div>
                                <a href="{{ berkas.foto_profile.url }}" target="_blank" class="file-preview-action">
                                    <i class="bi bi-eye me-1"></i> Lihat
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="zoom-in" data-aos-delay="200">
                        <div class="file-preview">
                            <img src="{{ berkas.surat_keterangan_lulus.url }}" alt="Surat Keterangan Lulus">
                            <div class="file-preview-overlay">
                                <div class="file-preview-title">Surat Keterangan Lulus</div>
                                <a href="{{ berkas.surat_keterangan_lulus.url }}" target="_blank" class="file-preview-action">
                                    <i class="bi bi-eye me-1"></i> Lihat
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="zoom-in" data-aos-delay="300">
                        <div class="file-preview">
                            <img src="{{ berkas.ijazah.url }}" alt="Ijazah">
                            <div class="file-preview-overlay">
                                <div class="file-preview-title">Ijazah</div>
                                <a href="{{ berkas.ijazah.url }}" target="_blank" class="file-preview-action">
                                    <i class="bi bi-eye me-1"></i> Lihat
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="zoom-in" data-aos-delay="400">
                        <div class="file-preview">
                            <img src="{{ berkas.ktp_orang_tua_lk.url }}" alt="KTP Ayah">
                            <div class="file-preview-overlay">
                                <div class="file-preview-title">KTP Ayah</div>
                                <a href="{{ berkas.ktp_orang_tua_lk.url }}" target="_blank" class="file-preview-action">
                                    <i class="bi bi-eye me-1"></i> Lihat
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="zoom-in" data-aos-delay="500">
                        <div class="file-preview">
                            <img src="{{ berkas.ktp_orang_tua_pr.url }}" alt="KTP Ibu">
                            <div class="file-preview-overlay">
                                <div class="file-preview-title">KTP Ibu</div>
                                <a href="{{ berkas.ktp_orang_tua_pr.url }}" target="_blank" class="file-preview-action">
                                    <i class="bi bi-eye me-1"></i> Lihat
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="zoom-in" data-aos-delay="600">
                        <div class="file-preview">
                            <img src="{{ berkas.foto_kk.url }}" alt="Foto Kartu Keluarga">
                            <div class="file-preview-overlay">
                                <div class="file-preview-title">Foto Kartu Keluarga</div>
                                <a href="{{ berkas.foto_kk.url }}" target="_blank" class="file-preview-action">
                                    <i class="bi bi-eye me-1"></i> Lihat
                                </a>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-4 mb-4" data-aos="zoom-in" data-aos-delay="700">
                        <div class="file-preview">
                            <img src="{{ berkas.foto_akte_kelahiran.url }}" alt="Akte Kelahiran">
                            <div class="file-preview-overlay">
                                <div class="file-preview-title">Akte Kelahiran</div>
                                <a href="{{ berkas.foto_akte_kelahiran.url }}" target="_blank" class="file-preview-action">
                                    <i class="bi bi-eye me-1"></i> Lihat
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                {% else %}
                <div class="custom-alert custom-alert-warning">
                    <i class="bi bi-exclamation-triangle me-2"></i>
                    Anda belum mengunggah berkas apa pun. Silakan unggah berkas Anda <a href="#" class="alert-link">di sini</a>.
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

<!-- Action Buttons -->
<div class="row mb-4">
    <div class="col-12 text-center" data-aos="fade-up">
        <button class="btn btn-primary-custom me-2">
            <i class="bi bi-printer me-2"></i> Cetak Formulir
        </button>
        <button class="btn btn-danger-custom">
            <i class="bi bi-download me-2"></i> Unduh Data
        </button>
    </div>
</div>
{% endblock %}